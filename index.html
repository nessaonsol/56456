<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trader Wheel</title>
    <link rel="icon" type="image/x-icon" href="traderwheel.png">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Courier New', monospace;
            background-color: #fefefe;
            color: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            position: relative;
        }

        .header {
            position: fixed;
            top: 0;
            right: 0;
            padding: 30px;
            z-index: 1000;
        }

        .header-nav {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .header-button {
            background: none;
            border: none;
            color: #000000;
            text-decoration: none;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
        }

        .header-button:hover {
            color: #333333;
            transform: translateY(-1px);
        }

        .header-button::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #000000;
            transition: width 0.3s ease;
        }

        .header-button:hover::after {
            width: 100%;
        }

        .x-button {
            background: none;
            border: none;
            color: #000000;
            text-decoration: none;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            order: -1; /* This places it first in the flex container */
        }

        .x-button:hover {
            color: #333333;
            transform: translateY(-1px);
        }

        .x-button::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #000000;
            transition: width 0.3s ease;
        }

        .x-button:hover::after {
            width: 100%;
        }

        .title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 2rem;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.2rem;
            max-width: 600px;
            line-height: 1.5;
            letter-spacing: 1px;
            margin-bottom: 2rem;
        }

        .connect-text {
            font-size: 1.4rem;
            font-weight: bold;
            letter-spacing: 1px;
            margin-top: 2rem;
            margin-bottom: 2rem;
        }

        .wallet-button {
            background-color: #000000;
            color: #ffffff;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
            margin: 20px 0;
            display: none;
            text-transform: uppercase;
        }

        .wallet-button:hover {
            background-color: #333333;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .wallet-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .wallet-status {
            font-size: 1rem;
            margin-top: 1rem;
            padding: 10px;
            min-height: 20px;
            letter-spacing: 0.5px;
        }

        .cursor {
            display: inline-block;
            background-color: #000000;
            width: 2px;
            height: 1.2em;
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .typing-container {
            position: relative;
        }

        .wallet-container {
            margin-top: 2rem;
        }

        .or-divider {
            margin: 3rem 0 2rem 0;
        }

        .wallet-input-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-top: 1rem;
        }

        .wallet-input {
            width: 400px;
            padding: 15px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            letter-spacing: 0.5px;
            border: 2px solid #000000;
            background-color: #ffffff;
            color: #000000;
            text-align: center;
            transition: all 0.3s ease;
            outline: none;
        }

        .wallet-input:focus {
            border-color: #333333;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .wallet-input::placeholder {
            color: #666666;
            opacity: 0.8;
        }

        .check-button {
            background-color: #000000;
            color: #ffffff;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
            text-transform: uppercase;
            opacity: 0.5;
            pointer-events: none;
        }

        .check-button.enabled {
            opacity: 1;
            pointer-events: auto;
        }

        .check-button.enabled:hover {
            background-color: #333333;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .check-button.enabled:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-top: 4rem;
        }

        .loading-status {
            font-size: 1.4rem;
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        .loading-details {
            font-size: 1rem;
            letter-spacing: 0.5px;
            opacity: 0.8;
            margin-bottom: 3rem;
            max-width: 500px;
        }

        .loading-bar {
            width: 400px;
            height: 4px;
            background-color: #e0e0e0;
            margin: 2rem 0;
            overflow: hidden;
        }

        .loading-progress {
            height: 100%;
            background-color: #000000;
            width: 0;
            transition: width 0.3s ease;
        }

        .dots {
            animation: fadeInOut 1.5s infinite;
        }

        .dots:nth-child(2) {
            animation-delay: 0.3s;
        }

        .dots:nth-child(3) {
            animation-delay: 0.6s;
        }

        @keyframes fadeInOut {
            0%, 20% { opacity: 0; }
            50% { opacity: 1; }
            80%, 100% { opacity: 0; }
        }

        /* Page styles */
        .page {
            display: none;
            width: 100%;
            min-height: 100vh;
            padding: 0;
        }

        .page.active {
            display: block;
        }

        .page-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 40px 60px;
            text-align: left;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 2px;
            text-align: center;
            margin-bottom: 3rem;
            text-transform: uppercase;
        }

        .section {
            margin-bottom: 3rem;
        }

        .section h2 {
            font-size: 1.8rem;
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            text-transform: uppercase;
            border-bottom: 2px solid #000000;
            padding-bottom: 0.5rem;
        }

        .section h3 {
            font-size: 1.3rem;
            font-weight: bold;
            letter-spacing: 0.5px;
            margin: 1.5rem 0 0.8rem 0;
            text-transform: uppercase;
        }

        .section p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            letter-spacing: 0.3px;
        }

        .section ul {
            margin: 1rem 0 1rem 2rem;
        }

        .section li {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 0.5rem;
            letter-spacing: 0.3px;
        }

        .process-step {
            background: #f8f8f8;
            border-left: 4px solid #000000;
            margin: 1.5rem 0;
            padding: 1.5rem;
        }

        .process-step h3 {
            margin-top: 0;
        }

        .subsection {
            margin: 2rem 0;
            padding-left: 1rem;
        }

        .fee-item, .tier, .threshold-item {
            background: #f8f8f8;
            border: 1px solid #ddd;
            margin: 1.5rem 0;
            padding: 1.5rem;
        }

        .tier {
            border-left: 4px solid;
        }

        .tier:nth-child(2) { border-left-color: #FFD700; }
        .tier:nth-child(3) { border-left-color: #FF6B35; }
        .tier:nth-child(4) { border-left-color: #4ECDC4; }
        .tier:nth-child(5) { border-left-color: #45B7D1; }

        .link {
            color: #000000;
            text-decoration: underline;
            font-weight: bold;
        }

        .link:hover {
            text-decoration: none;
        }

        .home-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        .back-button {
            position: absolute;
            top: 30px;
            left: 30px;
            background: none;
            border: none;
            color: #000000;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            padding: 8px 16px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .back-button:hover {
            color: #333333;
            transform: translateY(-1px);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }
            
            .header-nav {
                gap: 15px;
            }
            
            .header-button, .x-button {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            
            .title {
                font-size: 2rem;
                margin-top: 100px;
            }
            
            .subtitle {
                font-size: 1rem;
                padding: 0 20px;
            }

            .page-content {
                padding: 100px 20px 40px;
            }

            .page-title {
                font-size: 2rem;
            }

            .wallet-input {
                width: 300px;
                padding: 12px 16px;
                font-size: 0.9rem;
            }

            .check-button {
                padding: 12px 24px;
                font-size: 1rem;
            }

            .loading-bar {
                width: 300px;
            }
        }
    </style>
</head>
<body>
    <div id="home" class="home-page">
        <header class="header">
            <nav class="header-nav">
                <a href="https://x.com/traderwheel" class="x-button" target="_blank">𝕏</a>
                <a href="#" class="header-button" onclick="showPage('docs')">Docs</a>
                <a href="#" class="header-button" onclick="showPage('whitepaper')">WhitePaper</a>
                <a href="#" class="header-button" onclick="showPage('fees')">Fees</a>
            </nav>
        </header>

        <div class="typing-container">
            <h1 class="title" id="title"></h1>
            <p class="subtitle" id="subtitle"></p>
            <p class="connect-text" id="connect-text"></p>
            
            <div class="wallet-container">
                <button class="wallet-button" id="wallet-button" onclick="connectWallet()">
                    Connect Wallet
                </button>
                <div class="wallet-status" id="wallet-status"></div>
            </div>
            
            <div class="or-divider" id="or-divider" style="display: none;">
                <p style="font-size: 1.1rem; font-weight: bold; letter-spacing: 1px; margin: 2rem 0 1rem 0;">Or</p>
                <p style="font-size: 1rem; letter-spacing: 0.5px; margin-bottom: 1.5rem; opacity: 0.8;">
                    Paste your wallet if you're unsure about connecting<br>
                    <small>Please note you will need to connect to actually collect the fees</small>
                </p>
            </div>
            
            <div class="wallet-input-container" id="wallet-input-container" style="display: none;">
                <input type="text" 
                       id="wallet-input" 
                       class="wallet-input" 
                       placeholder="Enter your Solana wallet address..." 
                       maxlength="44">
                <button class="check-button" id="check-button" onclick="checkWalletAllocation()">
                    Check My Fee Allocation
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Page -->
    <div id="loading" class="page">
        <a href="#" class="back-button" onclick="showPage('home')">← Home</a>
        <div class="page-content">
            <h1 class="page-title">Analyzing Your Wallet</h1>
            
            <div class="loading-container">
                <div class="loading-status" id="loading-status">
                    Initializing analysis...
                </div>
                <div class="loading-details" id="loading-details">
                    Preparing to analyze your trading activity
                </div>
                <div class="loading-bar">
                    <div class="loading-progress" id="loading-progress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Docs Page -->
    <div id="docs" class="page">
        <a href="#" class="back-button" onclick="showPage('home')">← Home</a>
        <div class="page-content">
            <h1 class="page-title">Documentation</h1>
            
            <div class="section">
                <h2>How Trader Wheel Works</h2>
                <p>Trader Wheel is a revolutionary fee redistribution system that rewards active traders in the Solana trenches. We analyze on-chain data to identify genuine trading activity and distribute platform fees back to the most active participants.</p>
            </div>

            <div class="section">
                <h2>Data Analysis with Dune Analytics</h2>
                <p>We use <a href="https://dune.com/chains/solana" class="link" target="_blank">Dune Analytics</a> to comprehensively analyze your wallet's trading history and performance. This industry-standard blockchain analytics platform allows us to:</p>
                <ul>
                    <li>Track your historical trading volume across all Solana DEXs</li>
                    <li>Calculate your profit and loss (PnL) performance</li>
                    <li>Identify consistent trading patterns and activity levels</li>
                    <li>Verify legitimate trading activity vs wash trading</li>
                    <li>Monitor your engagement with various DeFi protocols</li>
                </ul>
            </div>

            <div class="section">
                <h2>Wallet Verification Process</h2>
                
                <div class="process-step">
                    <h3>Step 1: Connect Your Wallet</h3>
                    <p>Connect your Solana wallet (Phantom, Solflare, Backpack, etc.) to begin the verification process. We only read your public transaction history - no private keys or sensitive data are accessed.</p>
                </div>

                <div class="process-step">
                    <h3>Step 2: Data Collection</h3>
                    <p>Our system queries Dune Analytics to collect your comprehensive trading data including:</p>
                    <ul>
                        <li>Total trading volume over the past 30, 60, and 90 days</li>
                        <li>Number of unique trading sessions</li>
                        <li>Average trade size and frequency</li>
                        <li>Cross-protocol activity analysis</li>
                        <li>Risk-adjusted performance metrics</li>
                    </ul>
                </div>

                <div class="process-step">
                    <h3>Step 3: Activity Verification</h3>
                    <p>We analyze your trading patterns to ensure authentic "trench" activity:</p>
                    <ul>
                        <li>Minimum 30-day trading history required</li>
                        <li>Regular trading activity (not just one-off transactions)</li>
                        <li>Diverse protocol interactions</li>
                        <li>Realistic profit/loss distributions</li>
                        <li>Human-like trading patterns vs automated activity</li>
                    </ul>
                </div>

                <div class="process-step">
                    <h3>Step 4: Allocation Calculation</h3>
                    <p>Your fee allocation is determined by your volume in the trenches:</p>
                    <ul>
                        <li><strong>Volume Score:</strong> Based on total 30-day trading volume</li>
                        <li><strong>Consistency Score:</strong> Regular trading activity multiplier</li>
                        <li><strong>Risk Score:</strong> Bonus for higher-risk/higher-reward strategies</li>
                        <li><strong>Community Score:</strong> Engagement with multiple protocols</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Eligibility Requirements</h2>
                <div class="subsection">
                    <h3>Minimum Activity Thresholds</h3>
                    <ul>
                        <li>At least $10,000 in total trading volume over the past 30 days</li>
                        <li>Minimum of 20 trading transactions in the past month</li>
                        <li>Active on at least 3 different DEX protocols</li>
                        <li>Wallet age of at least 60 days</li>
                        <li>Positive or neutral risk-adjusted performance</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Fee Distribution Schedule</h2>
                <p>Fee distributions occur weekly, every Sunday at 12:00 UTC. Your allocation is recalculated weekly based on your rolling 30-day activity. Payments are made directly to your connected wallet address in SOL.</p>
            </div>

            <div class="section">
                <h2>Privacy & Security</h2>
                <p>All data analysis is performed on publicly available blockchain data. We never access private keys, seed phrases, or any sensitive information. Our integration with Dune Analytics ensures institutional-grade data accuracy and security.</p>
            </div>
        </div>
    </div>

    <!-- Whitepaper Page -->
    <div id="whitepaper" class="page">
        <a href="#" class="back-button" onclick="showPage('home')">← Home</a>
        <div class="page-content">
            <h1 class="page-title">Whitepaper</h1>
            
            <div class="section">
                <h2>Abstract</h2>
                <p>Trader Wheel introduces a novel fee redistribution mechanism that rewards the most active participants in decentralized finance trading. By leveraging comprehensive on-chain analytics, we create a sustainable ecosystem where platform revenues are shared with the traders who generate the most value through their active participation in the "trenches" of DeFi trading.</p>
            </div>

            <div class="section">
                <h2>Problem Statement</h2>
                <p>The current DeFi landscape suffers from several key issues:</p>
                <ul>
                    <li><strong>Fee Extraction:</strong> Platforms extract significant value from active traders without sharing revenue</li>
                    <li><strong>Wealth Concentration:</strong> Passive holders benefit disproportionately compared to active contributors</li>
                    <li><strong>Lack of Recognition:</strong> Skilled traders receive no rewards for generating platform activity and liquidity</li>
                    <li><strong>Unsustainable Incentives:</strong> Current reward systems often incentivize wash trading and gaming rather than genuine activity</li>
                </ul>
            </div>

            <div class="section">
                <h2>Solution Overview</h2>
                <p>Trader Wheel solves these problems through a data-driven approach that:</p>
                <ul>
                    <li>Identifies genuine trading activity using sophisticated on-chain analysis</li>
                    <li>Redistributes platform fees to the most active and skilled traders</li>
                    <li>Creates sustainable incentives for continued high-quality trading activity</li>
                    <li>Builds a community-driven ecosystem where value flows to value creators</li>
                </ul>
            </div>

            <div class="section">
                <h2>Technical Architecture</h2>
                
                <div class="subsection">
                    <h3>Data Layer</h3>
                    <p>Our system builds upon Dune Analytics' robust Solana data infrastructure:</p>
                    <ul>
                        <li><strong>Real-time Ingestion:</strong> Continuous monitoring of all Solana transactions</li>
                        <li><strong>DEX Aggregation:</strong> Coverage of all major Solana DEXs (Jupiter, Raydium, Orca, etc.)</li>
                        <li><strong>Historical Analysis:</strong> Deep historical data for pattern recognition</li>
                        <li><strong>Cross-Protocol Tracking:</strong> Unified view of trader activity across protocols</li>
                    </ul>
                </div>

                <div class="subsection">
                    <h3>Scoring Algorithm</h3>
                    <p>Our proprietary scoring system evaluates traders across multiple dimensions:</p>
                    
                    <div class="process-step">
                        <h3>Volume Score (40% Weight)</h3>
                        <p>V = log(total_volume_30d) × consistency_multiplier</p>
                        <p>Where consistency_multiplier ranges from 0.8 to 1.5 based on trading frequency distribution</p>
                    </div>

                    <div class="process-step">
                        <h3>Risk-Adjusted Performance Score (30% Weight)</h3>
                        <p>P = (total_pnl / max_drawdown) × sharpe_ratio</p>
                        <p>Rewards traders who generate returns efficiently while managing risk</p>
                    </div>

                    <div class="process-step">
                        <h3>Activity Diversity Score (20% Weight)</h3>
                        <p>D = unique_protocols × unique_tokens × time_distribution_factor</p>
                        <p>Encourages broad ecosystem participation and prevents gaming</p>
                    </div>

                    <div class="process-step">
                        <h3>Community Impact Score (10% Weight)</h3>
                        <p>C = new_token_discovery + liquidity_provision + market_making_activity</p>
                        <p>Rewards traders who contribute to ecosystem growth and liquidity</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Anti-Gaming Measures</h2>
                <p>To prevent system manipulation, we implement multiple safeguards:</p>
                <ul>
                    <li><strong>Minimum Holding Periods:</strong> Rapid buy-sell cycles are heavily penalized</li>
                    <li><strong>Wash Trading Detection:</strong> Statistical analysis identifies artificial volume</li>
                    <li><strong>Sybil Resistance:</strong> Multiple wallets from the same entity are detected and consolidated</li>
                    <li><strong>Economic Requirements:</strong> Minimum volume thresholds prevent small-scale gaming</li>
                    <li><strong>Dynamic Weighting:</strong> Algorithm weights adjust based on detected gaming attempts</li>
                </ul>
            </div>

            <div class="section">
                <h2>Economic Model</h2>
                
                <div class="subsection">
                    <h3>Revenue Sources</h3>
                    <ul>
                        <li>Platform trading fees (0.1% - 0.5% depending on volume tier)</li>
                        <li>MEV extraction partnerships</li>
                        <li>Premium analytics subscriptions</li>
                        <li>Institutional client services</li>
                    </ul>
                </div>

                <div class="subsection">
                    <h3>Distribution Model</h3>
                    <ul>
                        <li><strong>70%</strong> - Redistributed to active traders based on scoring algorithm</li>
                        <li><strong>20%</strong> - Platform development and operations</li>
                        <li><strong>5%</strong> - Insurance fund for system stability</li>
                        <li><strong>5%</strong> - Community development and partnerships</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Roadmap</h2>
                
                <div class="process-step">
                    <h3>Phase 1: Foundation (Q1 2025)</h3>
                    <ul>
                        <li>Launch core scoring algorithm</li>
                        <li>Implement Dune Analytics integration</li>
                        <li>Begin fee redistribution program</li>
                        <li>Onboard initial trader community</li>
                    </ul>
                </div>

                <div class="process-step">
                    <h3>Phase 2: Expansion (Q2 2025)</h3>
                    <ul>
                        <li>Add multi-chain support (Ethereum, Base)</li>
                        <li>Launch advanced analytics dashboard</li>
                        <li>Implement social trading features</li>
                        <li>Partner with major DEX aggregators</li>
                    </ul>
                </div>

                <div class="process-step">
                    <h3>Phase 3: Ecosystem (Q3-Q4 2025)</h3>
                    <ul>
                        <li>Launch native token with governance utilities</li>
                        <li>Implement cross-chain fee redistribution</li>
                        <li>Add institutional trading tools</li>
                        <li>Develop API for third-party integrations</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Risk Factors</h2>
                <p>Potential risks and mitigation strategies:</p>
                <ul>
                    <li><strong>Regulatory Risk:</strong> Compliance with evolving DeFi regulations across jurisdictions</li>
                    <li><strong>Technical Risk:</strong> Blockchain infrastructure dependencies and smart contract vulnerabilities</li>
                    <li><strong>Market Risk:</strong> Crypto market volatility affecting trader participation</li>
                    <li><strong>Competition Risk:</strong> Similar platforms emerging with competitive offerings</li>
                </ul>
            </div>

            <div class="section">
                <h2>Conclusion</h2>
                <p>Trader Wheel represents a paradigm shift toward equitable value distribution in DeFi. By rewarding the most active and skilled participants, we create a sustainable ecosystem that grows stronger with increased participation. Our data-driven approach ensures fair allocation while preventing gaming, establishing a new standard for community-centric platform economics.</p>
            </div>
        </div>
    </div>

    <!-- Fees Page -->
    <div id="fees" class="page">
        <a href="#" class="back-button" onclick="showPage('home')">← Home</a>
        <div class="page-content">
            <h1 class="page-title">Fee Structure</h1>
            
            <div class="section">
                <h2>Trading Fees</h2>
                <p>Our fee structure is designed to be competitive while ensuring maximum redistribution to active traders. Fees vary based on your trading volume tier and activity level.</p>
                
                <div class="tier">
                    <h3>Trencher Tier (Default)</h3>
                    <p><strong>Requirements:</strong> $10K+ monthly volume, 20+ trades</p>
                    <p><strong>Trading Fee:</strong> 0.25%</p>
                    <p><strong>Fee Redistribution:</strong> 70% of fees returned to active traders</p>
                    <p><strong>Benefits:</strong> Basic analytics, weekly payouts</p>
                </div>

                <div class="tier">
                    <h3>Active Trader</h3>
                    <p><strong>Requirements:</strong> $50K+ monthly volume, 50+ trades</p>
                    <p><strong>Trading Fee:</strong> 0.20%</p>
                    <p><strong>Fee Redistribution:</strong> 75% of fees returned</p>
                    <p><strong>Benefits:</strong> Advanced analytics, priority support</p>
                </div>

                <div class="tier">
                    <h3>Volume Trader</h3>
                    <p><strong>Requirements:</strong> $250K+ monthly volume, 100+ trades</p>
                    <p><strong>Trading Fee:</strong> 0.15%</p>
                    <p><strong>Fee Redistribution:</strong> 80% of fees returned</p>
                    <p><strong>Benefits:</strong> Real-time analytics, dedicated account manager</p>
                </div>

                <div class="tier">
                    <h3>Institution</h3>
                    <p><strong>Requirements:</strong> $1M+ monthly volume, custom requirements</p>
                    <p><strong>Trading Fee:</strong> 0.10% (negotiable)</p>
                    <p><strong>Fee Redistribution:</strong> Custom arrangement</p>
                    <p><strong>Benefits:</strong> API access, custom integrations, priority execution</p>
                </div>
            </div>

            <div class="section">
                <h2>Fee Redistribution Mechanism</h2>
                <p>The majority of platform fees are redistributed back to active traders based on their activity scores. Here's how it works:</p>
                
                <div class="process-step">
                    <h3>Weekly Collection</h3>
                    <p>All trading fees are collected in a redistribution pool throughout the week. The pool accumulates fees from all trading activity across all user tiers.</p>
                </div>

                <div class="process-step">
                    <h3>Score Calculation</h3>
                    <p>Every Sunday, we calculate each trader's activity score based on their 30-day trading history using our proprietary algorithm that considers volume, consistency, diversity, and performance.</p>
                </div>

                <div class="process-step">
                    <h3>Proportional Distribution</h3>
                    <p>The redistribution pool is distributed proportionally based on activity scores. Higher scores receive larger payouts, incentivizing consistent and high-quality trading activity.</p>
                </div>

                <div class="process-step">
                    <h3>Automatic Payout</h3>
                    <p>Payouts are automatically sent to your connected wallet every Sunday at 12:00 UTC in SOL. Minimum payout threshold is $10 equivalent to reduce transaction costs.</p>
                </div>
            </div>

            <div class="section">
                <h2>Additional Fees</h2>
                
                <div class="fee-item">
                    <h3>Premium Analytics Subscription</h3>
                    <p><strong>Cost:</strong> $50/month or 100 SOL/year</p>
                    <p><strong>Includes:</strong> Real-time portfolio analytics, advanced risk metrics, custom alerts, API access, and exclusive market insights.</p>
                </div>

                <div class="fee-item">
                    <h3>Priority Execution</h3>
                    <p><strong>Cost:</strong> +0.05% per trade</p>
                    <p><strong>Benefits:</strong> Front-of-queue execution, reduced slippage, MEV protection, and guaranteed settlement within 1 block.</p>
                </div>

                <div class="fee-item">
                    <h3>Copy Trading Service</h3>
                    <p><strong>Cost:</strong> 20% of profits generated</p>
                    <p><strong>Features:</strong> Follow top-performing traders, automatic position mirroring, risk management controls, and performance tracking.</p>
                </div>
            </div>

            <div class="section">
                <h2>Volume Thresholds & Bonuses</h2>
                <p>Additional benefits based on your trading activity:</p>
                
                <div class="threshold-item">
                    <h3>$10K Monthly Volume</h3>
                    <p><strong>Bonus:</strong> 1.1x redistribution multiplier</p>
                    <p><strong>Perks:</strong> Basic trader tier, weekly analytics reports</p>
                </div>

                <div class="threshold-item">
                    <h3>$50K Monthly Volume</h3>
                    <p><strong>Bonus:</strong> 1.25x redistribution multiplier</p>
                    <p><strong>Perks:</strong> Discord VIP access, monthly strategy calls</p>
                </div>

                <div class="threshold-item">
                    <h3>$250K Monthly Volume</h3>
                    <p><strong>Bonus:</strong> 1.5x redistribution multiplier</p>
                    <p><strong>Perks:</strong> Direct line to development team, feature request priority</p>
                </div>

                <div class="threshold-item">
                    <h3>$1M+ Monthly Volume</h3>
                    <p><strong>Bonus:</strong> 2x redistribution multiplier + custom benefits</p>
                    <p><strong>Perks:</strong> Dedicated account manager, custom API endpoints, co-marketing opportunities</p>
                </div>
            </div>

            <div class="section">
                <h2>Fee Transparency</h2>
                <p>We believe in complete transparency regarding our fee structure:</p>
                <ul>
                    <li>All fees are clearly displayed before transaction confirmation</li>
                    <li>Monthly fee reports are available to all users</li>
                    <li>Real-time fee pool balance is publicly viewable</li>
                    <li>Redistribution calculations are open source and auditable</li>
                    <li>No hidden fees or surprise charges</li>
                </ul>
            </div>

            <div class="section">
                <h2>Payment Methods</h2>
                <p>We accept payments in the following cryptocurrencies:</p>
                <ul>
                    <li><strong>SOL</strong> - Primary payment method with 5% discount</li>
                    <li><strong>USDC</strong> - Standard rates, instant processing</li>
                    <li><strong>USDT</strong> - Standard rates, instant processing</li>
                    <li><strong>Major Solana Tokens</strong> - Converted at market rates</li>
                </ul>
                <p><em>All redistributions are paid in SOL to maintain ecosystem alignment.</em></p>
            </div>
        </div>
    </div>

    <script>
        // Audio context for typing sounds
        let audioContext;
        
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playTypingSound() {
            // Typing sound disabled
            return;
        }

        async function typeText(element, text, speed = 100) {
            element.innerHTML = '';
            
            for (let i = 0; i < text.length; i++) {
                await new Promise(resolve => {
                    setTimeout(() => {
                        element.innerHTML = text.substring(0, i + 1) + '<span class="cursor"></span>';
                        playTypingSound();
                        resolve();
                    }, speed + Math.random() * 50);
                });
            }
            
            // Remove cursor after typing is complete
            setTimeout(() => {
                element.innerHTML = text;
            }, 1000);
        }

        async function startTyping() {
            const titleElement = document.getElementById('title');
            const subtitleElement = document.getElementById('subtitle');
            const connectTextElement = document.getElementById('connect-text');
            const walletButton = document.getElementById('wallet-button');
            
            // Type the title first (faster)
            await typeText(titleElement, 'Trader Wheel', 75);
            
            // Wait a moment, then type the subtitle
            await new Promise(resolve => setTimeout(resolve, 300));
            await typeText(subtitleElement, 'We send fees to every active trenching wallet', 50);
            
            // Wait a moment, then type the connect text
            await new Promise(resolve => setTimeout(resolve, 300));
            await typeText(connectTextElement, 'Connect So We Can Check If You\'re Active', 50);
            
            // Show the wallet button after typing is complete
            await new Promise(resolve => setTimeout(resolve, 500));
            walletButton.style.display = 'inline-block';
            walletButton.style.opacity = '0';
            walletButton.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                walletButton.style.opacity = '1';
                
                // Show the "Or" section and wallet input after wallet button appears
                setTimeout(() => {
                    const orDivider = document.getElementById('or-divider');
                    const walletInputContainer = document.getElementById('wallet-input-container');
                    
                    orDivider.style.display = 'block';
                    orDivider.style.opacity = '0';
                    orDivider.style.transition = 'opacity 0.5s ease';
                    
                    walletInputContainer.style.display = 'flex';
                    walletInputContainer.style.opacity = '0';
                    walletInputContainer.style.transition = 'opacity 0.5s ease';
                    
                    setTimeout(() => {
                        orDivider.style.opacity = '1';
                        walletInputContainer.style.opacity = '1';
                    }, 100);
                }, 500);
            }, 100);
        }

        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page, .home-page');
            pages.forEach(page => {
                if (page.classList.contains('page')) {
                    page.classList.remove('active');
                } else {
                    page.style.display = 'none';
                }
            });
            
            if (pageId === 'home') {
                document.getElementById('home').style.display = 'flex';
            } else {
                // Show the selected page
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.add('active');
                }
            }
        }

        function setupWalletInput() {
            const walletInput = document.getElementById('wallet-input');
            const checkButton = document.getElementById('check-button');
            
            walletInput.addEventListener('input', function() {
                const walletAddress = this.value.trim();
                
                // Basic Solana wallet address validation (Base58, ~44 characters)
                const isValidLength = walletAddress.length >= 32 && walletAddress.length <= 44;
                const isValidFormat = /^[1-9A-HJ-NP-Za-km-z]+$/.test(walletAddress);
                
                if (isValidLength && isValidFormat) {
                    checkButton.classList.add('enabled');
                } else {
                    checkButton.classList.remove('enabled');
                }
            });
            
            // Allow Enter key to trigger check
            walletInput.addEventListener('keydown', function(event) {
                if (event.key === 'Enter' && checkButton.classList.contains('enabled')) {
                    checkWalletAllocation();
                }
            });
        }

        function checkWalletAllocation() {
            const walletInput = document.getElementById('wallet-input');
            const checkButton = document.getElementById('check-button');
            const walletAddress = walletInput.value.trim();
            
            if (!checkButton.classList.contains('enabled')) {
                return;
            }
            
            // Disable button during check
            checkButton.disabled = true;
            checkButton.textContent = 'Checking...';
            
            // Show loading page with wallet analysis
            showPage('loading');
            startWalletAnalysis(walletAddress);
        }

        // Initialize audio and start typing when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize audio on first user interaction
            document.addEventListener('click', initAudio, { once: true });
            document.addEventListener('keydown', initAudio, { once: true });
            
            // Start typing animation
            startTyping();
            
            // Setup wallet input validation
            setupWalletInput();
        });

        async function connectWallet() {
            const statusElement = document.getElementById('wallet-status');
            const buttonElement = document.getElementById('wallet-button');
            
            try {
                // Check if Phantom wallet is installed
                if (window.solana && window.solana.isPhantom) {
                    statusElement.textContent = 'Connecting to Phantom...';
                    buttonElement.disabled = true;
                    buttonElement.textContent = 'Connecting...';
                    
                    const response = await window.solana.connect();
                    const publicKey = response.publicKey.toString();
                    
                    // Show loading page immediately after connection
                    showPage('loading');
                    startWalletAnalysis(publicKey);
                    
                } else if (window.solflare && window.solflare.isSolflare) {
                    // Solflare wallet
                    statusElement.textContent = 'Connecting to Solflare...';
                    buttonElement.disabled = true;
                    buttonElement.textContent = 'Connecting...';
                    
                    const response = await window.solflare.connect();
                    const publicKey = response.publicKey.toString();
                    
                    // Show loading page immediately after connection
                    showPage('loading');
                    startWalletAnalysis(publicKey);
                    
                } else {
                    // No wallet detected - check for other popular Solana wallets
                    if (window.backpack) {
                        statusElement.textContent = 'Connecting to Backpack...';
                        buttonElement.disabled = true;
                        buttonElement.textContent = 'Connecting...';
                        
                        const response = await window.backpack.connect();
                        const publicKey = response.publicKey.toString();
                        
                        // Show loading page immediately after connection
                        showPage('loading');
                        startWalletAnalysis(publicKey);
                    } else {
                        // No wallet detected
                        statusElement.textContent = 'No Solana wallet detected. Please install a Solana wallet (Phantom, Solflare, Backpack, etc.)';
                        
                        // Open Phantom download page
                        setTimeout(() => {
                            window.open('https://phantom.app/', '_blank');
                        }, 2000);
                    }
                }
                
            } catch (error) {
                console.error('Wallet connection error:', error);
                statusElement.textContent = 'Connection failed. Please try again or check your wallet settings.';
                buttonElement.textContent = 'Connect Wallet';
                buttonElement.style.backgroundColor = '#000000';
                buttonElement.disabled = false;
            }
        }

        async function startWalletAnalysis(publicKey) {
            const loadingStatus = document.getElementById('loading-status');
            const loadingDetails = document.getElementById('loading-details');
            const progressBar = document.getElementById('loading-progress');
            
            // Step 1: Connect to Dune
            loadingStatus.innerHTML = 'Connecting to Dune Analytics<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Establishing secure connection to blockchain analytics platform';
            progressBar.style.width = '15%';
            await sleep(2000);
            
            // Step 2: Fetch wallet data
            loadingStatus.innerHTML = 'Fetching wallet transaction history<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Retrieving your complete trading history across all Solana DEXs';
            progressBar.style.width = '35%';
            await sleep(2500);
            
            // Step 3: Analyze volume
            loadingStatus.innerHTML = 'Analyzing trading volume<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Calculating 30-day volume, trade frequency, and consistency metrics';
            progressBar.style.width = '55%';
            await sleep(2000);
            
            // Step 4: Calculate PnL
            loadingStatus.innerHTML = 'Computing profit & loss metrics<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Evaluating risk-adjusted performance and strategy effectiveness';
            progressBar.style.width = '75%';
            await sleep(2000);
            
            // Step 5: Anti-gaming checks
            loadingStatus.innerHTML = 'Running anti-gaming verification<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Verifying authentic trading patterns and detecting wash trading';
            progressBar.style.width = '90%';
            await sleep(1500);
            
            // Step 6: Final score
            loadingStatus.innerHTML = 'Calculating final activity score<span class="dots">.</span><span class="dots">.</span><span class="dots">.</span>';
            loadingDetails.textContent = 'Applying proprietary algorithm to determine your trencher tier';
            progressBar.style.width = '100%';
            await sleep(2000);
            
            // Return to home with results
            showPage('home');
            displayResults(publicKey);
            
            // Reset check button if it was used
            const checkButton = document.getElementById('check-button');
            if (checkButton.disabled) {
                checkButton.disabled = false;
                checkButton.textContent = 'Check My Fee Allocation';
            }
        }

        function displayResults(publicKey) {
            const statusElement = document.getElementById('wallet-status');
            const buttonElement = document.getElementById('wallet-button');
            
            // Update button to connected state
            statusElement.textContent = `Connected: ${publicKey.substring(0, 8)}...${publicKey.substring(publicKey.length - 8)}`;
            buttonElement.textContent = 'Connected';
            buttonElement.style.backgroundColor = '#4CAF50';
            buttonElement.disabled = false;
            
            // Show analysis results after a brief delay
            setTimeout(() => {
                // Simulate different outcomes
                const outcomes = [
                    { 
                        active: true, 
                        message: '✅ Active trencher detected! You qualify for fee redistribution.', 
                        details: 'Volume: $47.2K (30d) | Trades: 156 | Score: 847 | Next payout: Sunday' 
                    },
                    { 
                        active: false, 
                        message: '❌ Insufficient activity. Need $10K+ volume and 20+ trades monthly.', 
                        details: 'Current: $3.1K volume, 8 trades | Increase activity to qualify' 
                    },
                    { 
                        active: true, 
                        message: '✅ Volume trader tier unlocked! Enhanced redistribution rate.', 
                        details: 'Volume: $284K (30d) | Trades: 289 | Score: 1,247 | Multiplier: 1.25x' 
                    },
                    { 
                        active: true, 
                        message: '🔥 Institution tier detected! Maximum redistribution benefits.', 
                        details: 'Volume: $1.2M (30d) | Trades: 456 | Score: 2,184 | Multiplier: 2x' 
                    }
                ];
                
                const outcome = outcomes[Math.floor(Math.random() * outcomes.length)];
                statusElement.innerHTML = `${outcome.message}<br><small style="opacity: 0.8;">${outcome.details}</small>`;
                
                if (outcome.active) {
                    statusElement.style.color = '#4CAF50';
                } else {
                    statusElement.style.color = '#ff6b35';
                }
            }, 1000);
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Listen for wallet disconnection
        if (window.solana) {
            window.solana.on('disconnect', () => {
                const statusElement = document.getElementById('wallet-status');
                const buttonElement = document.getElementById('wallet-button');
                
                statusElement.textContent = 'Wallet disconnected';
                statusElement.style.color = '#000000';
                buttonElement.textContent = 'Connect Wallet';
                buttonElement.style.backgroundColor = '#000000';
                buttonElement.disabled = false;
            });
        }
    </script>
</body>
</html>

